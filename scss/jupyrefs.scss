@use "sass:map";

$brand-color: #8fbcbb;
$sidebar-icon-padding: 2px 6px;
$sidebar-icon-size: 20px;
$palette: ("yellow": #ebcb8b);
$shadow-size: 10px;

#jupyrefs-sidebar-browser {
  min-width: var(--jp-sidebar-min-width);
}

#jupyrefs-sidebar-editor {
  textarea {
    display: block;
    width: 100%;
    height: 100%;
    resize: none;
    box-sizing: border-box;
    color: var(--jp-ui-font-color1);
    background: var(--jp-layout-color1);
  }
}

#jupyrefs-sidebar-tabbar {
  li {
    display: flex;
    align-items: center;
    flex-basis: min-content;
    padding: $sidebar-icon-padding;
    border: 0;
  }

  .jupyrefs-sidebar-tabbar-icon {
    margin: 0;
    height: $sidebar-icon-size;
    width: $sidebar-icon-size;

    svg {
      height: $sidebar-icon-size;
      width: $sidebar-icon-size;
    }
  }
}

.jupyrefs-manager-tabpanel-closeicon {
  display: flex;
  align-items: center;

  svg {
    height: 16px;
    width: 16px;
  }
}

.jupyrefs-filebrowser {
  color: var(--jp-ui-font-color1);
  background: var(--jp-layout-color1);
  font-size: var(--jp-ui-font-size1);
  display: flex;
  flex-direction: column;
}

.jupyrefs-dirlisting {
  flex-grow: 1;
  overflow-y: auto;
}

.jupyrefs-dirlisting-root {
  margin: 0;
  padding: 0;
  list-style-type: none;
}

.jupyrefs-dirlisting-branch {
  margin: 0;
  padding-inline-start: 20px;
  list-style-type: none;
}

.jupyrefs-dirlisting-item {
  display: flex;
  flex-direction: row;
  column-gap: 2px;
  padding: 4px 6px;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;

  &.jupyrefs-mod-selected {
    color: var(--jp-ui-inverse-font-color1);
    background: $brand-color;
  }

  &:not(.jupyrefs-mod-selectable) {
    color: var(--jp-ui-font-color2);
    font-style: italic;
    font-size: 0.9em;
  }

  &.jupyrefs-mod-selectable:hover:not(.jupyrefs-mod-selected) {
    background: var(--jp-layout-color2);
  }
}

.jupyrefs-dirlisting-itemicon {
  height: 16px;
  width: 16px;

  svg {
    height: inherit;
  }
}

.jupyrefs-dirlisting-itemtext {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  user-select: none;
}

.jupyrefs-pdfviewer {
  width: 100%;
  height: 100%;
}

.jupyrefs-pdfviewer-container {
  width: 100%;
  height: 100%;
  overflow: auto;
  position: relative;
  background-color: var(--jp-layout-color4);
}

.jupyrefs-pdfviewer-viewer {
  position: absolute;

  .page {
    border-width: 0 !important;
    margin: 9px !important;
  }

  &[data-theme=dark] .page {
    filter: invert(100%);

    .jupyrefs-pdfviewer-note-content {
      filter: invert(100%);
    }
  }

  .jupyrefs-pdfviewer-note {
    width: 50px;
    height: 50px;
    position: absolute;
  }

  .jupyrefs-pdfviewer-note-content {
    width: 100%;
    height: 100%;
    position: relative;
    background-color: map.get($palette, "yellow");
  }

  .jupyrefs-pdfviewer-note-shadow {
    box-shadow: 0 0 $shadow-size calc($shadow-size / 2) black;
  }
}

// vim: set ft=scss:
